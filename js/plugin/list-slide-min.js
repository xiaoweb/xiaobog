(function($){$.fn.parallelRoll=function(options){var opts=$.extend({},$.fn.parallelRoll.defaults,options);var _this=this;var l=_this.find(opts.tagName).length;var autoRollTimer;var flag=true;var arr=new Array();if(opts.amount+opts.visual>l){_this[0].innerHTML+=_this[0].innerHTML;l=2*l;}else{l=l;}var w=$(opts.tagName).outerWidth(true);_this.css({width:(l*w)+"px"});return this.each(function(){_this.closest("."+opts.boxName).hover(function(){clearInterval(autoRollTimer);},function(){switch(opts.direction){case"left":autoRollTimer=setInterval(function(){left();},opts.time);break;case"right":autoRollTimer=setInterval(function(){right();},opts.time);break;default:alert("�������");break;}}).trigger("mouseenter").trigger("mouseleave");$("."+opts.prev).on("click",function(){flag?left():"";});$("."+opts.next).on("click",function(){flag?right():"";});});function left(){flag=false;_this.animate({marginLeft:-(w*opts.amount)},400,function(){_this.find(opts.tagName).slice(0,opts.amount).appendTo(_this);_this.css({marginLeft:0});flag=true;});}function right(){flag=false;arr=_this.find(opts.tagName).slice(-opts.amount);for(var i=0;i<opts.amount;i++){$(arr[i]).css({marginLeft:-w*(i+1)}).prependTo(_this);}_this.animate({marginLeft:w*opts.amount},400,function(){_this.find(opts.tagName).removeAttr("style");_this.css({marginLeft:0});flag=true;});}};$.fn.parallelRoll.defaults={boxName:"list_slide",tagName:"dd",time:5000,direction:"left",visual:3,prev:"i_right",next:"i_left",amount:1};})(jQuery);